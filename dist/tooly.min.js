var requirejs,require,define;!function(e){function n(e,n){return w.call(e,n)}function t(e,n){var t,o,r,i,s,d,l,a,u,c,f,p=n&&n.split("/"),y=m.map,b=y&&y["*"]||{};if(e&&"."===e.charAt(0))if(n){for(e=e.split("/"),s=e.length-1,m.nodeIdCompat&&v.test(e[s])&&(e[s]=e[s].replace(v,"")),e=p.slice(0,p.length-1).concat(e),u=0;u<e.length;u+=1)if(f=e[u],"."===f)e.splice(u,1),u-=1;else if(".."===f){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||b)&&y){for(t=e.split("/"),u=t.length;u>0;u-=1){if(o=t.slice(0,u).join("/"),p)for(c=p.length;c>0;c-=1)if(r=y[p.slice(0,c).join("/")],r&&(r=r[o])){i=r,d=u;break}if(i)break;!l&&b&&b[o]&&(l=b[o],a=u)}!i&&l&&(i=l,d=a),i&&(t.splice(0,d,i),e=t.join("/"))}return e}function o(n,t){return function(){var o=h.call(arguments,0);return"string"!=typeof o[0]&&1===o.length&&o.push(null),u.apply(e,o.concat([n,t]))}}function r(e){return function(n){return t(n,e)}}function i(e){return function(n){p[e]=n}}function s(t){if(n(y,t)){var o=y[t];delete y[t],b[t]=!0,a.apply(e,o)}if(!n(p,t)&&!n(b,t))throw new Error("No "+t);return p[t]}function d(e){var n,t=e?e.indexOf("!"):-1;return t>-1&&(n=e.substring(0,t),e=e.substring(t+1,e.length)),[n,e]}function l(e){return function(){return m&&m.config&&m.config[e]||{}}}var a,u,c,f,p={},y={},m={},b={},w=Object.prototype.hasOwnProperty,h=[].slice,v=/\.js$/;c=function(e,n){var o,i=d(e),l=i[0];return e=i[1],l&&(l=t(l,n),o=s(l)),l?e=o&&o.normalize?o.normalize(e,r(n)):t(e,n):(e=t(e,n),i=d(e),l=i[0],e=i[1],l&&(o=s(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:o}},f={require:function(e){return o(e)},exports:function(e){var n=p[e];return"undefined"!=typeof n?n:p[e]={}},module:function(e){return{id:e,uri:"",exports:p[e],config:l(e)}}},a=function(t,r,d,l){var a,u,m,w,h,v,g=[],E=typeof d;if(l=l||t,"undefined"===E||"function"===E){for(r=!r.length&&d.length?["require","exports","module"]:r,h=0;h<r.length;h+=1)if(w=c(r[h],l),u=w.f,"require"===u)g[h]=f.require(t);else if("exports"===u)g[h]=f.exports(t),v=!0;else if("module"===u)a=g[h]=f.module(t);else if(n(p,u)||n(y,u)||n(b,u))g[h]=s(u);else{if(!w.p)throw new Error(t+" missing "+u);w.p.load(w.n,o(l,!0),i(u),{}),g[h]=p[u]}m=d?d.apply(p[t],g):void 0,t&&(a&&a.exports!==e&&a.exports!==p[t]?p[t]=a.exports:m===e&&v||(p[t]=m))}else t&&(p[t]=d)},requirejs=require=u=function(n,t,o,r,i){if("string"==typeof n)return f[n]?f[n](t):s(c(n,t).f);if(!n.splice){if(m=n,m.deps&&u(m.deps,m.callback),!t)return;t.splice?(n=t,t=o,o=null):n=e}return t=t||function(){},"function"==typeof o&&(o=r,r=i),r?a(e,n,t,o):setTimeout(function(){a(e,n,t,o)},4),u},u.config=function(e){return u(e)},requirejs._defined=p,define=function(e,t,o){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(o=t,t=[]),n(p,e)||n(y,e)||(y[e]=[e,t,o])},define.amd={jQuery:!0}}(),define("almond.js",function(){}),define("jquery",[],function(){return jQuery||{}}),define("tooly",["jquery"],function(e){var n={},t=window;return n.EventManager={createEvent:function(n,t){var o=e.Event(n);return o._cancel=!1,o._client=t,o},dispatch:function(n,o,r){e(t).trigger(n,o)},on:function(n,o){e(t).bind(n,o)},one:function(n,o){e(t).one(n,o)},off:function(n){if(n instanceof e.Event)return _wpEl.off(n);throw new Error("Event must be instance of jQuery.Event")},unbind:function(n,o){e(t).unbind(n,o)}},n}),require(["tooly"],function(e){window.tooly=e}),define("tooly.js",function(){}),define("assertion/assertion-concern",[],function(){var e=function(){};e.prototype.assertArgumentEquals=function(e,n,t){if(e!==n)throw new Error(t)},e.prototype.assertArgumentFalse=function(e,n){if(e)throw new Error(n)},e.prototype.assertArgumentLength=function(e,n,t){if(!e||this.getStrLen(e)>n)throw new Error(t)},e.prototype.getStrLen=function(e){return trim(e).length},e.prototype.assertArgumentLengthBetween=function(e,n,t,o){var r=this.getStrLen(e);if(n>r||r>t)throw new Error(o)},e.prototype.assertArgumentNotEmpty=function(e,n){if(null==e||empty(e))throw new Error(n)},e.prototype.assertArgumentNotEquals=function(e,n,t){if(e===n)throw new Error(t)},e.prototype.assertArgumentNotNull=function(e,n){if(null==e)throw new Error(n)},e.prototype.assertArgumentRange=function(e,n,t,o){if(n>e||e>t)throw new Error(o)},e.prototype.assertArgumentTrue=function(e,n){if(!e)throw new Error(n)},e.prototype.assertStateFalse=function(e,n){if(e)throw new Error(n)},e.prototype.assertStateTrue=function(e,n){if(!e)throw new Error(n)}}),define("assertion/assertion-concern.js",function(){}),define("tooly/bootstrap/modal",["jquery"],function(e){var n={};n.Version="0.1";var t=[],o=[];return n.Options=function(){var e=!0,n=!0,t=!0,o=!1;return{backdrop:function(n){return e=n,this},keyboard:function(e){return n=e,this},show:function(e){return t=e,this},remote:function(e){return o=e,this},get:function(){return{backdrop:e,show:t,keyboard:n,remote:o}}}},n.Event={show:"show.bs.modal",hide:"hide.bs.modal",hidden:"hidden.bs.modal",shown:"shown.bs.modal",loaded:"loaded.bs.modal"},n.Helper={config:{topic_form_class:"",reply_form_class:"",reply_link_id:"bbp-reply-to-link",get:function(){return{topic_form_class:this.topic_form_class,reply_form_class:this.reply_form_class}}},unload:function(){},createController:function(r){var i,s,d=[],l='<div class= "'+r+' modal modal-form fade modal-new-topic-form" tabindex="-1" role="dialog" aria-labelledby=""><div class="modal-dialog modal-lg""><div class="modal-content"></div></div></div>';t[r]?s=t[r]:(s=e(l),s.appendTo(e("body")),t[r]=s);var a=n.Options().get(),u={onHide:function(){},onHidden:function(){u.clear()},onShow:function(){},onShown:function(){},clear:function(){var n=s.find(".modal-content");e(n).empty()},add:function(e){var n=s.find(".modal-content");n.append(e,null)},unloadModal:function(){s.unbind(n.Event.hide),s.unbind(n.Event.hidden),s.unbind(n.Event.show),s.unbind(n.Event.shown),s.remove(),d=null,s=null}};s.bind(n.Event.hide,u.onHide),s.bind(n.Event.hidden,u.onHidden),s.bind(n.Event.show,u.onShow),s.bind(n.Event.shown,u.onShown);var c="",f={register:function(n,t){return void 0!=o[n]?(c=n,this):(o[n]=t,e(t).remove(),c=n,this)},setOptions:function(n){e(s).modal(a),a=n},getOptions:function(){return e(a).clone()},show:function(n){void 0===n&&(n=c);var t=o[n];e(t).show();s.find(".modal-content");return u.clear(),u.add(t),a.show=!0,this.setOptions(a),this},hide:function(){return a.show=!1,this.setOptions(a),this},remove:function(){console.log("modal removed"),s.remove()},onHide:function(t){var o=s.find(".modal-content");return e(o).empty(),i=t,s.bind(n.Event.hide,function(){t(),s.unbind(n.Event.hide)}),this},onHidden:function(e){return s.bind(n.Event.hidden,function(){e(),s.unbind(n.Event.hidden)}),this},onShow:function(e){return s.bind(n.Event.show,function(){e(),s.unbind(n.Event.show)}),this},onShown:function(e){return s.bind(n.Event.shown,function(){e(),s.unbind(n.Event.shown)}),this},onLoaded:function(e){return s.bind(n.Event.loaded,function(){e(),s.unbind(n.Event.loaded)}),this},unload:function(){u.unloadModal()}};return f}},n}),define("bootstrap/modal.js",function(){}),define("tooly/wordpress/bbpress/editor",["jquery","tooly/wordpress/wordpress","tooly/bootstrap/modal","tooly/wordpress/bbpress"],function(e,n,t,o){return{Helper:{initForm:function(e){"undefined"!=typeof edButtons&&(edButtons[110]=new QTags.TagButton("code","code","`","`","c"),QTags._buttonsInit()),e.bind("keydown.editor-focus",function(n){if(9===n.which&&!n.ctrlKey&&!n.altKey&&!n.shiftKey){if("undefined"!=typeof tinymce)if(tinymce.activeEditor.isHidden())e.find("textarea.bbp-the-content").focus();else{var t=tinymce.activeEditor.editorContainer;e.find("#"+t+" td.mceToolbar > a").focus()}else e.find("textarea.bbp-the-content").focus();n.preventDefault()}}),e.bind("keydown.editor-focus",function(n){if(9===n.which&&n.shiftKey&&!n.ctrlKey&&!n.altKey){if("undefined"!=typeof tinymce)if(tinymce.activeEditor.isHidden())e.find("textarea.bbp-the-content").focus();else{var t=tinymce.activeEditor.editorContainer;e.find("#"+t+" td.mceToolbar > a").focus()}else e.find("textarea.bbp-the-content").focus();n.preventDefault()}})},addQutoedReply:function(e,n){}}}}),define("wordpress/bbpress-editor.js",function(){}),define("tooly/wordpress/bbpress/config",{replyFormClass:".bbp-reply-form",topicReplyLinkClass:".bbp-topic-reply-link",replyReplyLinkClass:".bbp-reply-to-link",newTopicLinkClass:".new-topic-button",newTopicFormClass:".bbp-topic-form",modalClass:".modal-bbpress",warning:'<div class="alert alert-warning">Üye olmalı veya üye girişi yapmalısınız. <a href="">Giriş</a> </div>'}),define("tooly/wordpress/bbpress",["jquery","tooly/wordpress/wordpress","tooly/bootstrap/modal","tooly/wordpress/bbpress/config","tooly/wordpress/bbpress/editor"],function(e,n,t,o,r){function i(e){var n=e.match(/bbp_reply_to\=([0-9]*)/m);return n.index>=0?n[1]:!1}function s(n){if(!d(u.newTopicFormOpen,n.target)){var t=e(o.newTopicFormClass).clone();r.Helper.initForm(t),a.register("bbpress_newTopicForm",t).show(),n.preventDefault(),d(u.newTopicFormOpened,n.target)}}function d(e,n){var t=tooly.EventManager.createEvent(e,n);return tooly.EventManager.dispatch(t),t.cancel}function l(t){if(!d(u.topicReplyFormOpen,t.target)){var s=0,l="",c=e(o.replyFormClass).clone();r.Helper.initForm(c),t.target.className.indexOf(o.topicReplyLinkClass.replace(".",""))>=0?l="topic":t.target.className.indexOf(o.replyReplyLinkClass.replace(".",""))>=0&&(l="reply",s=i(t.target.href));var f=(c.find("#bbp-cancel-reply-to-link"),c.find("#bbp_reply_to")),p=c.find("#bbp_topic_id");f.val(s),p.val(n.Helper.getPostId()),a.register("bbpress_replyForm",c).show(),t.preventDefault(),d(u.topicReplyFormOpened,t.target)}}var a=t.Helper.createController(o.modalClass),u={newTopicFormOpen:"tooly.bbpress.newTopicFormOpen",newTopicFormOpened:"tooly.bbpress.newTopicFormOpened",topicReplyFormOpen:"tooly.bbpress.topicReplyFormOpen",topicReplyFormOpened:"tooly.bbpress.topicReplyFormOpened"},c={init:function(){switch(n.Helper.getPageType()){case"topic":e(o.topicReplyLinkClass).bind("click",l),e(o.replyReplyLinkClass).bind("click",l);break;case"forum":e(o.newTopicLinkClass).bind("click",s)}},unload:function(){e(o.topicReplyLinkClass).unbind("click",l),a.unload()}};return{Event:u,Helper:c}}),define("wordpress/bbpress.js",function(){}),define("tooly/wordpress/widget",["tooly/wordpress/wordpress","jquery","tooly"],function(e,n,t){function o(e){var n;return n=wp.media(e)}var r={};window;return r.Event={mediaModalOpen:"tooly.wordpress.widget.event.mediaModalOpen",mediaModalSelect:"tooly.wordpress.widget.event.mediaModalSelect"},r.Helper={Media:{imageUploadButtonDecorator:function(e,i,s,d){function l(e){m.append('<img src="'+e+'" alt="" style="max-width:100%;"/>')}var a,u,c=n("div[id*=_"+e+"]"),f=(c.find("form"),"widget-"+e+"-"+s),p=c.find("#"+f),y=c.find(i),m=c.find(d),b={init:function(e){return a=o(e),this},unload:function(){y.unbind("click"),y=null,m=null,c=null,p=null},onSelect:function(e){return t.EventManager.one(r.Event.mediaModalSelect,e),this},onModalOpen:function(e){return t.EventManager.one(r.Event.mediaModalOpen,e),this}};return a=o({title:"Select or Upload Media Of Your Chosen Persuasion",button:{text:"Use this media"},multiple:!1}),p.val()&&l(p.val()),y.on("click",function(e){a.open(),a.on("select",function(e){t.EventManager.dispatch(r.Event.mediaModalSelect),u=a.state().get("selection").first().toJSON(),p.val(u.url),m.empty(),l(u.url)}),e.preventDefault()}),b}}},r}),define("wordpress/widget.js",function(){}),define("tooly/wordpress/wordpress",["jquery","tooly","tooly/bootstrap/modal"],function(e,n,t){function o(){return s=document.body.className.indexOf("logged-in")>-1?!0:!1}var r,i,s,d=(window,{getPageType:function(){return u},getTemplateType:function(){return c},getPostId:function(){return i},isLoggedIn:function(){return s},createController:function(){return{EventManager:function(){return n.EventManager}}},modalLogin:function(){t.Helper.createController("").show()},ajaxLogin:function(e){}}),l={pageLoaded:"tooly.wordpress.event.pageLoaded",userLoggedIn:"tooly.wordpress.event.userLoggedIn",init:"tooly.wordpress.event.init"},a=document.body.className.split(/\s+/),u=a[0],c=a[2];return document.body.className.indexOf("postid-")>-1&&(i=a[4].replace("postid-","")),o(),e("#__wordpress_notify__")||e("body").append("<div id='__wordpress_notify__' style='display: none;'></div>"),r=e("#__wordpress_notify__"),s===!1&&document.body.addEventListener("DOMAttrModified",function(e){"class"===e.attrName&&"class"==e.attributeName&&s===!1&&o()&&n.EventManager.dispatch(l.userLoggedIn)},!1),{Helper:d}}),define("wordpress/wordpress.js",function(){});
//# sourceMappingURL=tooly.min.js.map
