var requirejs,require,define;!function(n){function e(n,e){return v.call(n,e)}function t(n,e){var t,o,r,i,s,l,a,d,c,u,p,f=e&&e.split("/"),m=y.map,w=m&&m["*"]||{};if(n&&"."===n.charAt(0))if(e){for(n=n.split("/"),s=n.length-1,y.nodeIdCompat&&b.test(n[s])&&(n[s]=n[s].replace(b,"")),n=f.slice(0,f.length-1).concat(n),c=0;c<n.length;c+=1)if(p=n[c],"."===p)n.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===n[2]||".."===n[0]))break;c>0&&(n.splice(c-1,2),c-=2)}n=n.join("/")}else 0===n.indexOf("./")&&(n=n.substring(2));if((f||w)&&m){for(t=n.split("/"),c=t.length;c>0;c-=1){if(o=t.slice(0,c).join("/"),f)for(u=f.length;u>0;u-=1)if(r=m[f.slice(0,u).join("/")],r&&(r=r[o])){i=r,l=c;break}if(i)break;!a&&w&&w[o]&&(a=w[o],d=c)}!i&&a&&(i=a,l=d),i&&(t.splice(0,l,i),n=t.join("/"))}return n}function o(e,t){return function(){var o=h.call(arguments,0);return"string"!=typeof o[0]&&1===o.length&&o.push(null),c.apply(n,o.concat([e,t]))}}function r(n){return function(e){return t(e,n)}}function i(n){return function(e){f[n]=e}}function s(t){if(e(m,t)){var o=m[t];delete m[t],w[t]=!0,d.apply(n,o)}if(!e(f,t)&&!e(w,t))throw new Error("No "+t);return f[t]}function l(n){var e,t=n?n.indexOf("!"):-1;return t>-1&&(e=n.substring(0,t),n=n.substring(t+1,n.length)),[e,n]}function a(n){return function(){return y&&y.config&&y.config[n]||{}}}var d,c,u,p,f={},m={},y={},w={},v=Object.prototype.hasOwnProperty,h=[].slice,b=/\.js$/;u=function(n,e){var o,i=l(n),a=i[0];return n=i[1],a&&(a=t(a,e),o=s(a)),a?n=o&&o.normalize?o.normalize(n,r(e)):t(n,e):(n=t(n,e),i=l(n),a=i[0],n=i[1],a&&(o=s(a))),{f:a?a+"!"+n:n,n:n,pr:a,p:o}},p={require:function(n){return o(n)},exports:function(n){var e=f[n];return"undefined"!=typeof e?e:f[n]={}},module:function(n){return{id:n,uri:"",exports:f[n],config:a(n)}}},d=function(t,r,l,a){var d,c,y,v,h,b,g=[],E=typeof l;if(a=a||t,"undefined"===E||"function"===E){for(r=!r.length&&l.length?["require","exports","module"]:r,h=0;h<r.length;h+=1)if(v=u(r[h],a),c=v.f,"require"===c)g[h]=p.require(t);else if("exports"===c)g[h]=p.exports(t),b=!0;else if("module"===c)d=g[h]=p.module(t);else if(e(f,c)||e(m,c)||e(w,c))g[h]=s(c);else{if(!v.p)throw new Error(t+" missing "+c);v.p.load(v.n,o(a,!0),i(c),{}),g[h]=f[c]}y=l?l.apply(f[t],g):void 0,t&&(d&&d.exports!==n&&d.exports!==f[t]?f[t]=d.exports:y===n&&b||(f[t]=y))}else t&&(f[t]=l)},requirejs=require=c=function(e,t,o,r,i){if("string"==typeof e)return p[e]?p[e](t):s(u(e,t).f);if(!e.splice){if(y=e,y.deps&&c(y.deps,y.callback),!t)return;t.splice?(e=t,t=o,o=null):e=n}return t=t||function(){},"function"==typeof o&&(o=r,r=i),r?d(n,e,t,o):setTimeout(function(){d(n,e,t,o)},4),c},c.config=function(n){return c(n)},requirejs._defined=f,define=function(n,t,o){if("string"!=typeof n)throw new Error("See almond README: incorrect module build, no module name");t.splice||(o=t,t=[]),e(f,n)||e(m,n)||(m[n]=[n,t,o])},define.amd={jQuery:!0}}(),define("almond.js",function(){}),define("jquery",[],function(){return jQuery||{}}),define("tooly",["jquery"],function(n){var e={},t=window;return e.EventManager={createEvent:function(e,t){var o=n.Event(e);return o._cancel=!1,o._client=t,o},dispatch:function(e,o,r){n(t).trigger(e,o)},on:function(e,o){n(t).bind(e,o)},one:function(e,o){n(t).one(e,o)},off:function(e){if(e instanceof n.Event)return _wpEl.off(e);throw new Error("Event must be instance of jQuery.Event")},cancelableEventDispatch:function(n,t){var o=EventManager.createEvent(n,t);return e.EventManager.dispatch(o),o.cancel},unbind:function(e,o){n(t).unbind(e,o)}},e}),require(["tooly"],function(n){window.tooly=n}),define("tooly.js",function(){}),define("assertion/assertion-concern",[],function(){var n=function(){};n.prototype.assertArgumentEquals=function(n,e,t){if(n!==e)throw new Error(t)},n.prototype.assertArgumentFalse=function(n,e){if(n)throw new Error(e)},n.prototype.assertArgumentLength=function(n,e,t){if(!n||this.getStrLen(n)>e)throw new Error(t)},n.prototype.getStrLen=function(n){return trim(n).length},n.prototype.assertArgumentLengthBetween=function(n,e,t,o){var r=this.getStrLen(n);if(e>r||r>t)throw new Error(o)},n.prototype.assertArgumentNotEmpty=function(n,e){if(null==n||empty(n))throw new Error(e)},n.prototype.assertArgumentNotEquals=function(n,e,t){if(n===e)throw new Error(t)},n.prototype.assertArgumentNotNull=function(n,e){if(null==n)throw new Error(e)},n.prototype.assertArgumentRange=function(n,e,t,o){if(e>n||n>t)throw new Error(o)},n.prototype.assertArgumentTrue=function(n,e){if(!n)throw new Error(e)},n.prototype.assertStateFalse=function(n,e){if(n)throw new Error(e)},n.prototype.assertStateTrue=function(n,e){if(!n)throw new Error(e)}}),define("assertion/assertion-concern.js",function(){}),define("tooly/bootstrap/modal",["jquery","tooly"],function(n){var e={};e.Version="0.1";var t=[];return e.Options=function(){var n=!0,e=!0,t=!0,o=!1;return{backdrop:function(e){return n=e,this},keyboard:function(n){return e=n,this},show:function(n){return t=n,this},remote:function(n){return o=n,this},get:function(){return{backdrop:n,show:t,keyboard:e,remote:o}}}},e.Event={show:"show.bs.modal",hide:"hide.bs.modal",hidden:"hidden.bs.modal",shown:"shown.bs.modal",loaded:"loaded.bs.modal"},e.Helper={config:{topic_form_class:"",reply_form_class:"",reply_link_id:"bbp-reply-to-link",get:function(){return{topic_form_class:this.topic_form_class,reply_form_class:this.reply_form_class}}},unload:function(){},createController:function(o){var r,i,s=[],l='<div class= "'+o+' modal modal-form fade modal-new-topic-form" tabindex="-1" role="dialog" aria-labelledby=""><div class="modal-dialog modal-lg""><div class="modal-content"></div></div></div>';t[o]?i=t[o]:(i=n(l),i.appendTo(n("body")),t[o]=i);var a=e.Options().get(),d={onHide:function(){},onHidden:function(){d.clear()},onShow:function(){},onShown:function(){},clear:function(){var e=i.find(".modal-content");n(e).empty()},add:function(n){var e=i.find(".modal-content");e.append(n,null)},unloadModal:function(){i.unbind(e.Event.hide),i.unbind(e.Event.hidden),i.unbind(e.Event.show),i.unbind(e.Event.shown),i.remove(),s=null,i=null}};i.bind(e.Event.hide,d.onHide),i.bind(e.Event.hidden,d.onHidden),i.bind(e.Event.show,d.onShow),i.bind(e.Event.shown,d.onShown);var c={inject:function(e){n(e).show();i.find(".modal-content");return d.clear(),d.add(e),this},setOptions:function(e){n(i).modal(a),a=e},getOptions:function(){return n(a).clone()},show:function(){return a.show=!0,this.setOptions(a),this},hide:function(){return a.show=!1,this.setOptions(a),this},remove:function(){console.log("modal removed"),i.remove()},onHide:function(t){var o=i.find(".modal-content");return n(o).empty(),r=t,i.bind(e.Event.hide,function(){t(),i.unbind(e.Event.hide)}),this},onHidden:function(n){return i.bind(e.Event.hidden,function(){n(),i.unbind(e.Event.hidden)}),this},onShow:function(n){return i.bind(e.Event.show,function(){n(),i.unbind(e.Event.show)}),this},onShown:function(n){return i.bind(e.Event.shown,function(){n(),i.unbind(e.Event.shown)}),this},onLoaded:function(n){return i.bind(e.Event.loaded,function(){n(),i.unbind(e.Event.loaded)}),this},unload:function(){d.unloadModal()}};return c}},e}),define("bootstrap/modal.js",function(){}),define("tooly/wordpress/bbpress/config",{replyFormClass:".bbp-reply-form",topicReplyLinkClass:".bbp-topic-reply-link",replyReplyLinkClass:".bbp-reply-to-link",newTopicLinkClass:".new-topic-button",newTopicFormClass:".bbp-topic-form",modalClass:".modal-bbpress",warning:'<div class="alert alert-warning">Üye olmalı veya üye girişi yapmalısınız. <a href="">Giriş</a> </div>'}),define("tooly/wordpress/bbpress",["jquery","tooly/wordpress/wordpress","tooly/bootstrap/modal","tooly/wordpress/bbpress/config"],function(n,e,t,o){function r(n){var e=n.match(/bbp_reply_to\=([0-9]*)/m);return e.index>=0?e[1]:!1}function i(e){if(!tooly.EventManager.cancelableEventDispatch(a.newTopicFormOpen,e.target)){var t=n(o.newTopicFormClass);l.inject(t).show(),e.preventDefault(),tooly.EventManager.cancelableEventDispatch(a.newTopicFormOpened,e.target)}}function s(t){if(!tooly.EventManager.cancelableEventDispatch(a.topicReplyFormOpen,t.target)){var i=0,s="",d=n(o.replyFormClass);t.target.className.indexOf(o.topicReplyLinkClass.replace(".",""))>=0?s="topic":t.target.className.indexOf(o.replyReplyLinkClass.replace(".",""))>=0&&(s="reply",i=r(t.target.href));var c=(d.find("#bbp-cancel-reply-to-link"),d.find("#bbp_reply_to")),u=d.find("#bbp_topic_id");c.val(i),u.val(e.Helper.getPostId()),l.inject(d).show(),t.preventDefault(),tooly.EventManager.cancelableEventDispatch(a.topicReplyFormOpened,t.target)}}var l=t.Helper.createController(o.modalClass),a={newTopicFormOpen:"tooly.bbpress.newTopicFormOpen",newTopicFormOpened:"tooly.bbpress.newTopicFormOpened",topicReplyFormOpen:"tooly.bbpress.topicReplyFormOpen",topicReplyFormOpened:"tooly.bbpress.topicReplyFormOpened"},d={init:function(){switch(e.Helper.getPageType()){case"topic":n(o.topicReplyLinkClass).bind("click",s),n(o.replyReplyLinkClass).bind("click",s);break;case"forum":n(o.newTopicLinkClass).bind("click",i)}},unload:function(){n(o.topicReplyLinkClass).unbind("click",s),l.unload()}};return{Event:a,Helper:d}}),define("wordpress/bbpress.js",function(){}),define("tooly/wordpress/widget",["tooly/wordpress/wordpress","jquery","tooly"],function(n,e,t){function o(n){var e;return e=wp.media(n)}var r={};window;return r.Event={mediaModalOpen:"tooly.wordpress.widget.event.mediaModalOpen",mediaModalSelect:"tooly.wordpress.widget.event.mediaModalSelect"},r.Helper={Media:{imageUploadButtonDecorator:function(n,i,s,l){function a(n){y.append('<img src="'+n+'" alt="" style="max-width:100%;"/>')}var d,c,u=e("div[id*=_"+n+"]"),p=(u.find("form"),"widget-"+n+"-"+s),f=u.find("#"+p),m=u.find(i),y=u.find(l),w={init:function(n){return d=o(n),this},unload:function(){m.unbind("click"),m=null,y=null,u=null,f=null},onSelect:function(n){return t.EventManager.one(r.Event.mediaModalSelect,n),this},onModalOpen:function(n){return t.EventManager.one(r.Event.mediaModalOpen,n),this}};return d=o({title:"Select or Upload Media Of Your Chosen Persuasion",button:{text:"Use this media"},multiple:!1}),f.val()&&a(f.val()),m.on("click",function(n){d.open(),d.on("select",function(n){t.EventManager.dispatch(r.Event.mediaModalSelect),c=d.state().get("selection").first().toJSON(),f.val(c.url),y.empty(),a(c.url)}),n.preventDefault()}),w}}},r}),define("wordpress/widget.js",function(){}),define("tooly/wordpress/wordpress",["jquery","tooly","tooly/bootstrap/modal"],function(n,e,t){function o(){return s=document.body.className.indexOf("logged-in")>-1?!0:!1}var r,i,s,l=(window,{getPageType:function(){return c},getTemplateType:function(){return u},getPostId:function(){return i},isLoggedIn:function(){return s},createController:function(){return{EventManager:function(){return e.EventManager}}},modalLogin:function(){t.Helper.createController("").show()},ajaxLogin:function(n){}}),a={pageLoaded:"tooly.wordpress.event.pageLoaded",userLoggedIn:"tooly.wordpress.event.userLoggedIn",init:"tooly.wordpress.event.init"},d=document.body.className.split(/\s+/),c=d[0],u=d[2];return document.body.className.indexOf("postid-")>-1&&(i=d[4].replace("postid-","")),o(),n("#__wordpress_notify__")||n("body").append("<div id='__wordpress_notify__' style='display: none;'></div>"),r=n("#__wordpress_notify__"),s===!1&&document.body.addEventListener("DOMAttrModified",function(n){"class"===n.attrName&&"class"==n.attributeName&&s===!1&&o()&&e.EventManager.dispatch(a.userLoggedIn)},!1),{Helper:l}}),define("wordpress/wordpress.js",function(){});
//# sourceMappingURL=tooly.min.js.map
