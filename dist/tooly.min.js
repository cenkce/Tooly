var requirejs,require,define;!function(e){function n(e,n){return y.call(e,n)}function r(e,n){var r,i,t,o,f,u,l,c,s,p,a,d=n&&n.split("/"),g=m.map,h=g&&g["*"]||{};if(e&&"."===e.charAt(0))if(n){for(e=e.split("/"),f=e.length-1,m.nodeIdCompat&&v.test(e[f])&&(e[f]=e[f].replace(v,"")),e=d.slice(0,d.length-1).concat(e),s=0;s<e.length;s+=1)if(a=e[s],"."===a)e.splice(s,1),s-=1;else if(".."===a){if(1===s&&(".."===e[2]||".."===e[0]))break;s>0&&(e.splice(s-1,2),s-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||h)&&g){for(r=e.split("/"),s=r.length;s>0;s-=1){if(i=r.slice(0,s).join("/"),d)for(p=d.length;p>0;p-=1)if(t=g[d.slice(0,p).join("/")],t&&(t=t[i])){o=t,u=s;break}if(o)break;!l&&h&&h[i]&&(l=h[i],c=s)}!o&&l&&(o=l,u=c),o&&(r.splice(0,u,o),e=r.join("/"))}return e}function i(n,r){return function(){var i=j.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),s.apply(e,i.concat([n,r]))}}function t(e){return function(n){return r(n,e)}}function o(e){return function(n){d[e]=n}}function f(r){if(n(g,r)){var i=g[r];delete g[r],h[r]=!0,c.apply(e,i)}if(!n(d,r)&&!n(h,r))throw new Error("No "+r);return d[r]}function u(e){var n,r=e?e.indexOf("!"):-1;return r>-1&&(n=e.substring(0,r),e=e.substring(r+1,e.length)),[n,e]}function l(e){return function(){return m&&m.config&&m.config[e]||{}}}var c,s,p,a,d={},g={},m={},h={},y=Object.prototype.hasOwnProperty,j=[].slice,v=/\.js$/;p=function(e,n){var i,o=u(e),l=o[0];return e=o[1],l&&(l=r(l,n),i=f(l)),l?e=i&&i.normalize?i.normalize(e,t(n)):r(e,n):(e=r(e,n),o=u(e),l=o[0],e=o[1],l&&(i=f(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:i}},a={require:function(e){return i(e)},exports:function(e){var n=d[e];return"undefined"!=typeof n?n:d[e]={}},module:function(e){return{id:e,uri:"",exports:d[e],config:l(e)}}},c=function(r,t,u,l){var c,s,m,y,j,v,x=[],b=typeof u;if(l=l||r,"undefined"===b||"function"===b){for(t=!t.length&&u.length?["require","exports","module"]:t,j=0;j<t.length;j+=1)if(y=p(t[j],l),s=y.f,"require"===s)x[j]=a.require(r);else if("exports"===s)x[j]=a.exports(r),v=!0;else if("module"===s)c=x[j]=a.module(r);else if(n(d,s)||n(g,s)||n(h,s))x[j]=f(s);else{if(!y.p)throw new Error(r+" missing "+s);y.p.load(y.n,i(l,!0),o(s),{}),x[j]=d[s]}m=u?u.apply(d[r],x):void 0,r&&(c&&c.exports!==e&&c.exports!==d[r]?d[r]=c.exports:m===e&&v||(d[r]=m))}else r&&(d[r]=u)},requirejs=require=s=function(n,r,i,t,o){if("string"==typeof n)return a[n]?a[n](r):f(p(n,r).f);if(!n.splice){if(m=n,m.deps&&s(m.deps,m.callback),!r)return;r.splice?(n=r,r=i,i=null):n=e}return r=r||function(){},"function"==typeof i&&(i=t,t=o),t?c(e,n,r,i):setTimeout(function(){c(e,n,r,i)},4),s},s.config=function(e){return s(e)},requirejs._defined=d,define=function(e,r,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");r.splice||(i=r,r=[]),n(d,e)||n(g,e)||(g[e]=[e,r,i])},define.amd={jQuery:!0}}(),define("almond.js",function(){});
define("jquery",[],function(){return jQuery||{}}),define("tooly",["jquery"],function(n){var e={},t=window;return e.EventManager={createEvent:function(e,t){var o=n.Event(e);return o._cancel=!1,o._client=t,o},dispatch:function(e,o,i){n(t).trigger(e,o)},on:function(e,o){n(t).bind(e,o)},one:function(e,o){n(t).one(e,o)},off:function(e){if(e instanceof n.Event)return _wpEl.off(e);throw new Error("Event must be instance of jQuery.Event")},unbind:function(e,o){n(t).unbind(e,o)}},e}),require(["tooly"],function(n){window.tooly=n}),define("tooly.js",function(){});
define("assertion/assertion-concern",[],function(){var t=function(){};t.prototype.assertArgumentEquals=function(t,r,e){if(t!==r)throw new Error(e)},t.prototype.assertArgumentFalse=function(t,r){if(t)throw new Error(r)},t.prototype.assertArgumentLength=function(t,r,e){if(!t||this.getStrLen(t)>r)throw new Error(e)},t.prototype.getStrLen=function(t){return trim(t).length},t.prototype.assertArgumentLengthBetween=function(t,r,e,n){var o=this.getStrLen(t);if(r>o||o>e)throw new Error(n)},t.prototype.assertArgumentNotEmpty=function(t,r){if(null==t||empty(t))throw new Error(r)},t.prototype.assertArgumentNotEquals=function(t,r,e){if(t===r)throw new Error(e)},t.prototype.assertArgumentNotNull=function(t,r){if(null==t)throw new Error(r)},t.prototype.assertArgumentRange=function(t,r,e,n){if(r>t||t>e)throw new Error(n)},t.prototype.assertArgumentTrue=function(t,r){if(!t)throw new Error(r)},t.prototype.assertStateFalse=function(t,r){if(t)throw new Error(r)},t.prototype.assertStateTrue=function(t,r){if(!t)throw new Error(r)}}),define("assertion/assertion-concern.js",function(){});
define("tooly/bootstrap/modal",["jquery"],function(n){var o={};o.Version="0.1";var t=[],i=[];return o.Options=function(){var n=!0,o=!0,t=!0,i=!1;return{backdrop:function(o){return n=o,this},keyboard:function(n){return o=n,this},show:function(n){return t=n,this},remote:function(n){return i=n,this},get:function(){return{backdrop:n,show:t,keyboard:o,remote:i}}}},o.Event={show:"show.bs.modal",hide:"hide.bs.modal",hidden:"hidden.bs.modal",shown:"shown.bs.modal",loaded:"loaded.bs.modal"},o.Helper={config:{topic_form_class:"",reply_form_class:"",reply_link_id:"bbp-reply-to-link",get:function(){return{topic_form_class:this.topic_form_class,reply_form_class:this.reply_form_class}}},unload:function(){},createController:function(e){var d,r,s=[],a='<div class= "'+e+' modal modal-form fade modal-new-topic-form" tabindex="-1" role="dialog" aria-labelledby=""><div class="modal-dialog modal-lg""><div class="modal-content"></div></div></div>';t[e]?r=t[e]:(r=n(a),r.appendTo(n("body")),t[e]=r);var u=o.Options().get(),l={onHide:function(){},onHidden:function(){l.clear()},onShow:function(){},onShown:function(){},clear:function(){var o=r.find(".modal-content");n(o).empty()},add:function(n){var o=r.find(".modal-content");o.append(n,null)},unloadModal:function(){r.unbind(o.Event.hide),r.unbind(o.Event.hidden),r.unbind(o.Event.show),r.unbind(o.Event.shown),r.remove(),s=null,r=null}};r.bind(o.Event.hide,l.onHide),r.bind(o.Event.hidden,l.onHidden),r.bind(o.Event.show,l.onShow),r.bind(o.Event.shown,l.onShown);var c="",h={register:function(n,o){return void 0!=i[n]?(c=n,this):(i[n]=o,c=n,this)},setOptions:function(o){n(r).modal(u),u=o},getOptions:function(){return n(u).clone()},show:function(o){void 0===o&&(o=c);var t=i[o];n(t).show();r.find(".modal-content");return l.clear(),l.add(t),u.show=!0,this.setOptions(u),this},hide:function(){return u.show=!1,this.setOptions(u),this},remove:function(){console.log("modal removed"),r.remove()},onHide:function(t){var i=r.find(".modal-content");return n(i).empty(),d=t,r.bind(o.Event.hide,function(){t(),r.unbind(o.Event.hide)}),this},onHidden:function(n){return r.bind(o.Event.hidden,function(){n(),r.unbind(o.Event.hidden)}),this},onShow:function(n){return r.bind(o.Event.show,function(){n(),r.unbind(o.Event.show)}),this},onShown:function(n){return r.bind(o.Event.shown,function(){n(),r.unbind(o.Event.shown)}),this},onLoaded:function(n){return r.bind(o.Event.loaded,function(){n(),r.unbind(o.Event.loaded)}),this},unload:function(){l.unloadModal()}};return h}},o}),define("bootstrap/modal.js",function(){});
define("tooly/wordpress/bbpress/editor",["jquery","tooly/wordpress/wordpress","tooly/bootstrap/modal","tooly/wordpress/bbpress"],function(e,t,o,n){return{Helper:{initForm:function(e){"undefined"!=typeof edButtons&&(edButtons[110]=new QTags.TagButton("code","code","`","`","c"),QTags._buttonsInit()),e.bind("keydown.editor-focus",function(t){if(9===t.which&&!t.ctrlKey&&!t.altKey&&!t.shiftKey){if("undefined"!=typeof tinymce)if(tinymce.activeEditor.isHidden())e.find("textarea.bbp-the-content").focus();else{var o=tinymce.activeEditor.editorContainer;e.find("#"+o+" td.mceToolbar > a").focus()}else e.find("textarea.bbp-the-content").focus();t.preventDefault()}}),e.bind("keydown.editor-focus",function(t){if(9===t.which&&t.shiftKey&&!t.ctrlKey&&!t.altKey){if("undefined"!=typeof tinymce)if(tinymce.activeEditor.isHidden())e.find("textarea.bbp-the-content").focus();else{var o=tinymce.activeEditor.editorContainer;e.find("#"+o+" td.mceToolbar > a").focus()}else e.find("textarea.bbp-the-content").focus();t.preventDefault()}})},addQutoedReply:function(e,t){}}}}),define("wordpress/bbpress-editor.js",function(){});
define("tooly/wordpress/bbpress/config",{replyFormClass:".bbp-reply-form",topicReplyLinkClass:".bbp-topic-reply-link",replyReplyLinkClass:".bbp-reply-to-link",newTopicLinkClass:".new-topic-button",newTopicFormClass:".bbp-topic-form",modalClass:".modal-bbpress",warning:'<div class="alert alert-warning">Üye olmalı veya üye girişi yapmalısınız. <a href="">Giriş</a> </div>'}),define("tooly/wordpress/bbpress",["jquery","tooly/wordpress/wordpress","tooly/bootstrap/modal","tooly/wordpress/bbpress/config","tooly/wordpress/bbpress/editor"],function(e,o,r,p,n){function l(e){var o=e.match(/bbp_reply_to\=([0-9]*)/m);return o.index>=0?o[1]:!1}function i(o){if(!s(c.newTopicFormOpen,o.target)){var r=e(p.newTopicFormClass).clone();n.Helper.initForm(r),a.register("bbpress_newTopicForm",r).show(),o.preventDefault(),s(c.newTopicFormOpened,o.target)}}function s(e,o){var r=tooly.EventManager.createEvent(e,o);return tooly.EventManager.dispatch(r),r.cancel}function t(r){if(!s(c.topicReplyFormOpen,r.target)){var i=0,t="",b=e(p.replyFormClass).clone();n.Helper.initForm(b),r.target.className.indexOf(p.topicReplyLinkClass.replace(".",""))>=0?t="topic":r.target.className.indexOf(p.replyReplyLinkClass.replace(".",""))>=0&&(t="reply",i=l(r.target.href));var y=(b.find("#bbp-cancel-reply-to-link"),b.find("#bbp_reply_to")),d=b.find("#bbp_topic_id");y.val(i),d.val(o.Helper.getPostId()),a.register("bbpress_replyForm",b).show(),r.preventDefault(),s(c.topicReplyFormOpened,r.target)}}var a=r.Helper.createController(p.modalClass),c={newTopicFormOpen:"tooly.bbpress.newTopicFormOpen",newTopicFormOpened:"tooly.bbpress.newTopicFormOpened",topicReplyFormOpen:"tooly.bbpress.topicReplyFormOpen",topicReplyFormOpened:"tooly.bbpress.topicReplyFormOpened"},b={init:function(){switch(o.Helper.getPageType()){case"topic":e(p.topicReplyLinkClass).bind("click",t),e(p.replyReplyLinkClass).bind("click",t);break;case"forum":e(p.newTopicLinkClass).bind("click",i)}},unload:function(){e(p.topicReplyLinkClass).unbind("click",t),a.unload()}};return{Event:c,Helper:b}}),define("wordpress/bbpress.js",function(){});
define("tooly/wordpress/widget",["tooly/wordpress/wordpress","jquery","tooly"],function(e,n,t){function o(e){var n;return n=wp.media(e)}var i={};window;return i.Event={mediaModalOpen:"tooly.wordpress.widget.event.mediaModalOpen",mediaModalSelect:"tooly.wordpress.widget.event.mediaModalSelect"},i.Helper={Media:{imageUploadButtonDecorator:function(e,d,l,a){function r(e){m.append('<img src="'+e+'" alt="" style="max-width:100%;"/>')}var u,s,c=n("div[id*=_"+e+"]"),f=(c.find("form"),"widget-"+e+"-"+l),p=c.find("#"+f),v=c.find(d),m=c.find(a),w={init:function(e){return u=o(e),this},unload:function(){v.unbind("click"),v=null,m=null,c=null,p=null},onSelect:function(e){return t.EventManager.one(i.Event.mediaModalSelect,e),this},onModalOpen:function(e){return t.EventManager.one(i.Event.mediaModalOpen,e),this}};return u=o({title:"Select or Upload Media Of Your Chosen Persuasion",button:{text:"Use this media"},multiple:!1}),p.val()&&r(p.val()),v.on("click",function(e){u.open(),u.on("select",function(e){t.EventManager.dispatch(i.Event.mediaModalSelect),s=u.state().get("selection").first().toJSON(),p.val(s.url),m.empty(),r(s.url)}),e.preventDefault()}),w}}},i}),define("wordpress/widget.js",function(){});
define("tooly/wordpress/wordpress",["jquery","tooly","tooly/bootstrap/modal"],function(e,o,n){function t(){return s=document.body.className.indexOf("logged-in")>-1?!0:!1}var r,d,s,i=(window,{getPageType:function(){return p},getTemplateType:function(){return c},getPostId:function(){return d},isLoggedIn:function(){return s},createController:function(){return{EventManager:function(){return o.EventManager}}},modalLogin:function(){n.Helper.createController("").show()},ajaxLogin:function(e){}}),a={pageLoaded:"tooly.wordpress.event.pageLoaded",userLoggedIn:"tooly.wordpress.event.userLoggedIn",init:"tooly.wordpress.event.init"},u=document.body.className.split(/\s+/),p=u[0],c=u[2];return document.body.className.indexOf("postid-")>-1&&(d=u[4].replace("postid-","")),t(),e("#__wordpress_notify__")||e("body").append("<div id='__wordpress_notify__' style='display: none;'></div>"),r=e("#__wordpress_notify__"),s===!1&&document.body.addEventListener("DOMAttrModified",function(e){"class"===e.attrName&&"class"==e.attributeName&&s===!1&&t()&&o.EventManager.dispatch(a.userLoggedIn)},!1),{Helper:i}}),define("wordpress/wordpress.js",function(){});
//# sourceMappingURL=tooly.min.js.map
